<div class="col-lg-1"></div><div class="col-lg-3 col-md-4 col-xs-12"><div id="userListId" ng-style="containerHeight" class="panel panel-primary"><div style="" class="panel-body"><uib-tabset justified="true" type="pills"><uib-tab heading="Conversations en cours"><!-- hr--><br/><div ng-style="innerHeightConvs" style="overflow-y: auto;"><div class="list-group"><a href="" ng-repeat="conv in convs" ng-click="addConv(conv.id)" style="border-left: none; border-right: none; border-radius: 0; height: 80px; vertical-align:middle;" class="list-group-item"><h4 class="list-group-item-heading">{{conv.name}}</h4><p style="overflow: hidden;" ng-if="!conv.public" class="list-group-item-text"><span ng-repeat="u in conv.users" style="margin-left: 5px;">{{username(u)}}<span ng-if="!$last">,</span></span></p><p style="overflow: hidden;" ng-if="conv.public" class="list-group-item-text">Public channel</p></a></div></div></uib-tab><uib-tab heading="Utilisateurs connectés"><!-- hr--><br/><p>Pas encore disponible</p><div class="list-group"><a ng-repeat="user in users" href="" ng-click="addDiscussion(user.name)" style="border: none;" class="list-group-item">{{user.name}}</a></div></uib-tab></uib-tabset></div></div></div><div class="col-lg-7 col-md-8 col-xs-12"><div ng-style="containerHeight" class="panel panel-primary"><div class="panel-body"><uib-tabset><uib-tab ng-repeat="tab in tabs" active="tab.active"><uib-tab-heading>{{tab.title}}<a ng-click="tab.modeGraphic = !tab.modeGraphic" style="margin-left: 5px;" href=""><i uib-tooltip="Passer en mode Texte/Graphique" tooltip-placement="bottom" class="glyphicon glyphicon-option-vertical"></i></a><a ng-click="closeDiscussion(tab.title)" style="margin-left: 5px;" href=""><i uib-tooltip="Fermer la discussion en cours" tooltip-placement="right" class="glyphicon glyphicon-remove"></i></a></uib-tab-heading><div style="overflow: auto; border-top: none; border-radius: 0px;" ng-style="innerHeight" scroll-glue="tab.scrollBottom" class="panel panel-default scrollMessages"><div class="panel-body"><div style="text-align: center;" class="col-xs-12"><a href="" ng-click="getPrevious(tab.convId)" ng-if="tab.previous">Charger les messages précédents</a></div><div style="font-family: helvetica,arial,sans-serif; font-size: 13px; background-color: white; color: black;" class="col-xs-12"><div ng-repeat="m in tab.messages" ng-if="!tab.modeGraphic" style="padding: 0; margin: 0;" class="col-xs-12"><div class="col-xs-12"><div style="border-top: 1px solid #E8E8E8; width: 80%; margin: 30px auto 0 auto; font-size: 11px; text-align: center;" ng-if="showDateLine(tab.messages, $index)"><span style="color: #BDC1C9; position: relative; top: -8px; background: #fff; padding: 0px 5px;">{{m.date | date: "EEEE"}}</span></div></div><div class="col-xs-12"><p style="font-weight: bold; margin-top: 20px;" ng-if="tab.messages[$index-1].author !== m.author || showDateLine(tab.messages, $index)"><a href="/account/{{m.author}}/" style="color: #3B5998;">{{username(m.author)}}</a></p><pre style="background: none; border: none; padding: 0px; margin: 0px;" class="col-xs-10">{{m.content}}</pre><div style="color: #BDC1C9;" class="col-xs-2">{{m.date | date: 'HH:mm dd/MM'}}</div></div></div><div ng-repeat="m in tab.messages" ng-if="tab.modeGraphic" style="color: black;" ng-style="colorLine($index)" class="col-xs-12"><small><{{m.date | date: 'HH:mm dd/MM'}}></small><b>{{username(m.author)}} :</b><pre style="display: inline; background: none; border: none; color: inherit;">{{m.content}}</pre><br/></div></div></div></div><div ng-style="bottomHeight"><form><textarea style="resize: none; overflow: visible; height: 60px; border: 1px #CCC solid;" placeholder="Ecrivez un message à envoyer..." ng-model="tab.textModel" ng-enter="sendMessage(tab.convId)" class="col-sm-10 col-xs-8"></textarea><div style="text-align: center;" class="col-sm-2 col-xs-4"><input type="submit" value="Envoyer" style="margin: auto;" ng-click="sendMessage(tab.convId)" class="btn btn-primary"/></div></form></div></uib-tab></uib-tabset></div></div></div>